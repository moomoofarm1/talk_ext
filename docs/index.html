<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>talk â€¢ talk</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="talk">
<meta name="description" content="Analyses of talk in audio recordings using transformers models such as Whisper from HuggingFace.">
<meta property="og:description" content="Analyses of talk in audio recordings using transformers models such as Whisper from HuggingFace.">
<meta property="og:image" content="https://r-talk.org/reference/figures/logo.png">
<meta property="og:image:alt" content="talk analyzes using huggingface transformers">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@oscarkjell">
<meta name="twitter:site" content="@oscarkjell">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">talk</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.02</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/talk.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/talk_huggingface_in_r_extended_installation_guide.html">Extended Installation Guide</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/theharmonylab/talk/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="text-">text <a class="anchor" aria-label="anchor" href="#text-"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<p>An R-package for analyzing natural language with transformers from HuggingFace using Natural Language Processing and Machine Learning.</p>
<p>The <em>text</em>-package has two main objectives:</p>
<ul>
<li><p>First, to serve R-users as a <em>point solution</em> for transforming text to state-of-the-art word embeddings that are ready to be used for downstream tasks. The package provides a user-friendly link to language models based on transformers from <a href="https://huggingface.co/" class="external-link">Hugging Face</a>.</p></li>
<li><p>Second, to serve as an <em>end-to-end solution</em> that provides state-of-the-art AI techniques tailored for social and behavioral scientists.</p></li>
</ul>
<figure><img src="reference/figures/modular_end_solution.png" style="width:85.0%" alt="Modular and End-to-End Solution"><figcaption aria-hidden="true">
Modular and End-to-End Solution
</figcaption></figure><p><em>Text</em> is created through a collaboration between psychology and computer science to address research needs and ensure state-of-the-art techniques. It provides powerful functions tailored to test research hypotheses in social and behavior sciences for both relatively small and large datasets. <em>Text</em> is continuously tested on Ubuntu, Mac OS and Windows using the latest stable R version.</p>
<p>Please reference our tutorial article when using the package: <a href="https://osf.io/preprints/psyarxiv/293kt/" class="external-link">The text-package: An R-package for Analyzing and Visualizing Human Language Using Natural Language Processing and Deep Learning</a>.</p>
<div class="section level3">
<h3 id="short-installation-guide">Short installation guide<a class="anchor" aria-label="anchor" href="#short-installation-guide"></a>
</h3>
<p>Most users simply need to run below installation code. For those experiencing problems or want more alternatives, please see the <a href="https://www.r-text.org/articles/huggingface_in_r_extended_installation_guide.html" class="external-link">Extended Installation Guide</a>.</p>
<p>For the text-package to work, you first have to install the text-package in R, and then make it work with text required python packages.</p>
<ol style="list-style-type: decimal">
<li>Install text-version (at the moment the second step only works using the development version of text from GitHub).</li>
</ol>
<p><a href="https://github.com/" class="external-link">GitHub</a> development version:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"oscarkjell/text"</span><span class="op">)</span></span></code></pre></div>
<p><a href="https://CRAN.R-project.org/package=text" class="external-link">CRAN</a> version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"text"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Install and initialize text required python packages:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-text.org/" class="external-link">text</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install text required python packages in a conda environment (with defaults).</span></span>
<span><span class="fu"><a href="https://r-text.org/reference/textrpp_install.html" class="external-link">textrpp_install</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initialize the installed conda environment.</span></span>
<span><span class="co"># save_profile = TRUE saves the settings so that you don't have to run textrpp_initialize() after restarting R. </span></span>
<span><span class="fu"><a href="https://r-text.org/reference/textrpp_initialize.html" class="external-link">textrpp_initialize</a></span><span class="op">(</span>save_profile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="point-solution-for-transforming-text-to-embeddings">Point solution for transforming text to embeddings<a class="anchor" aria-label="anchor" href="#point-solution-for-transforming-text-to-embeddings"></a>
</h3>
<p>Recent significant advances in NLP research have resulted in improved representations of human language (i.e., language models). These language models have produced big performance gains in tasks related to understanding human language. Text are making these SOTA models easily accessible through an interface to <a href="https://huggingface.co/docs/transformers/index" class="external-link">HuggingFace</a> in Python.</p>
<p><em>Text</em> provides many of the contemporary state-of-the-art language models that are based on deep learning to model word order and context. Multilingual language models can also represent several languages; multilingual BERT comprises <em>104 different languages</em>.</p>
<p><em>Table 1. Some of the available language models</em></p>
<table class="table">
<colgroup>
<col width="16%">
<col width="29%">
<col width="4%">
<col width="6%">
<col width="43%">
</colgroup>
<thead><tr class="header">
<th align="left">Models</th>
<th align="left">References</th>
<th align="left">Layers</th>
<th align="left">Dimensions</th>
<th align="left">Language</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">â€˜bert-base-uncasedâ€™</td>
<td align="left"><a href="https://aclanthology.org/N19-1423/" class="external-link">Devlin et al.Â 2019</a></td>
<td align="left">12</td>
<td align="left">768</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">â€˜roberta-baseâ€™</td>
<td align="left"><a href="https://arxiv.org/abs/1907.11692" class="external-link">Liu et al.Â 2019</a></td>
<td align="left">12</td>
<td align="left">768</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">â€˜distilbert-base-casedâ€™</td>
<td align="left"><a href="https://arxiv.org/abs/1910.01108" class="external-link">Sahn et al., 2019</a></td>
<td align="left">6</td>
<td align="left">768</td>
<td align="left">English</td>
</tr>
<tr class="even">
<td align="left">â€˜bert-base-multilingual-casedâ€™</td>
<td align="left"><a href="https://aclanthology.org/N19-1423/" class="external-link">Devlin et al.Â 2019</a></td>
<td align="left">12</td>
<td align="left">768</td>
<td align="left"><a href="https://meta.wikimedia.org/wiki/List_of_Wikipedias" class="external-link">104 top languages at Wikipedia</a></td>
</tr>
<tr class="odd">
<td align="left">â€˜xlm-roberta-largeâ€™</td>
<td align="left"><a href="https://arxiv.org/pdf/1907.11692" class="external-link">Liu et al</a></td>
<td align="left">24</td>
<td align="left">1024</td>
<td align="left"><a href="https://huggingface.co/docs/transformers/multilingual" class="external-link">100 language</a></td>
</tr>
</tbody>
</table>
<p>See <a href="https://huggingface.co/models/" class="external-link">HuggingFace</a> for a more comprehensive list of models.</p>
<p>The <code><a href="https://r-text.org/reference/textEmbed.html" class="external-link">textEmbed()</a></code> function is the main embedding function in text; and can output contextualized embeddings for tokens (i.e., the embeddings for each single word instance of each text) and texts (i.e., single embeddings per text taken from aggregating all token embeddings of the text).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-text.org/" class="external-link">text</a></span><span class="op">)</span></span>
<span><span class="co"># Transform the text data to BERT word embeddings</span></span>
<span></span>
<span><span class="co"># Example text</span></span>
<span><span class="va">texts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I feel great!"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Defaults</span></span>
<span><span class="va">embeddings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-text.org/reference/textEmbed.html" class="external-link">textEmbed</a></span><span class="op">(</span><span class="va">texts</span><span class="op">)</span></span>
<span><span class="va">embeddings</span></span></code></pre></div>
<p>See <a href="https://www.r-text.org/articles/text.html" class="external-link">Get Started</a> for more information.</p>
</div>
<div class="section level3">
<h3 id="language-analysis-tasks">Language Analysis Tasks<a class="anchor" aria-label="anchor" href="#language-analysis-tasks"></a>
</h3>
<p>It is also possible to access many language analysis tasks such as textClassify(), textGeneration(), and textTranslate().</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-text.org/" class="external-link">text</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate text from the prompt "I am happy to"</span></span>
<span><span class="va">generated_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-text.org/reference/textGeneration.html" class="external-link">textGeneration</a></span><span class="op">(</span><span class="st">"I am happy to"</span>,</span>
<span>                                 model <span class="op">=</span> <span class="st">"gpt2"</span><span class="op">)</span></span>
<span><span class="va">generated_text</span></span></code></pre></div>
<p>For a full list of language analysis tasks supported in text see the <a href="https://www.r-text.org/reference/index.html" class="external-link">References</a></p>
</div>
<div class="section level3">
<h3 id="an-end-to-end-package">An end-to-end package<a class="anchor" aria-label="anchor" href="#an-end-to-end-package"></a>
</h3>
<p><em>Text</em> also provides functions to analyse the word embeddings with well-tested machine learning algorithms and statistics. The focus is to analyze and visualize text, and their relation to other text or numerical variables. For example, the <code><a href="https://r-text.org/reference/textTrain.html" class="external-link">textTrain()</a></code> function is used to examine how well the word embeddings from a text can predict a numeric or categorical variable. Another example is functions plotting statistically significant words in the word embedding space.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-text.org/" class="external-link">text</a></span><span class="op">)</span> </span>
<span><span class="co"># Use data (DP_projections_HILS_SWLS_100) that have been pre-processed with the textProjectionData function; the preprocessed test-data included in the package is called: DP_projections_HILS_SWLS_100</span></span>
<span><span class="va">plot_projection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-text.org/reference/textProjectionPlot.html" class="external-link">textProjectionPlot</a></span><span class="op">(</span></span>
<span>  word_data <span class="op">=</span> <span class="va">DP_projections_HILS_SWLS_100</span>,</span>
<span>  y_axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title_top <span class="op">=</span> <span class="st">" Supervised Bicentroid Projection of Harmony in life words"</span>,</span>
<span>  x_axes_label <span class="op">=</span> <span class="st">"Low vs. High HILS score"</span>,</span>
<span>  y_axes_label <span class="op">=</span> <span class="st">"Low vs. High SWLS score"</span>,</span>
<span>  position_jitter_hight <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  position_jitter_width <span class="op">=</span> <span class="fl">0.8</span></span>
<span><span class="op">)</span></span>
<span><span class="va">plot_projection</span><span class="op">$</span><span class="va">final_plot</span></span></code></pre></div>
<p><img src="reference/figures/README-DPP_plot-1.png" width="100%" alt="Wordcloud example figure"></p>
<p><a rel="me" href="https://mastodon.online/@oscarkjell" class="external-link">M</a> <link rel="me" href="https://mastodon.online/@oscarkjell" m></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/theharmonylab/talk/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/theharmonylab/talk" class="external-link">Report a bug</a></li>
<li><a href="https://stackoverflow.com/" class="external-link">Ask a question about talk using the r-talk tag</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing talk</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://oscarkjell.se/" class="external-link">Oscar Kjell</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2728-6278" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Adithya Ganesan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0000-0000-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://github.com/Jarhatz" class="external-link">Rajath Rao</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0000-0000-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Akshay Raghavan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0000-0000-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=text" class="external-link"><img src="https://www.r-pkg.org/badges/version/text" alt="CRAN Status"></a></li>
<li><a href="https://github.com/oscarkjell/text/actions" class="external-link"><img src="https://github.com/oscarkjell/text/workflows/R-CMD-check/badge.svg" alt="Github build status"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing-1" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://CRAN.R-project.org/package=text" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/text" alt="CRAN Downloads"></a></li>
<li><a href="https://app.codecov.io/gh/oscarkjell/text" class="external-link"><img src="https://codecov.io/gh/oscarkjell/text/branch/master/graph/badge.svg?" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://oscarkjell.se/" class="external-link">Oscar Kjell</a>, Adithya Ganesan, <a href="https://github.com/Jarhatz" class="external-link">Rajath Rao</a>, Akshay Raghavan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
